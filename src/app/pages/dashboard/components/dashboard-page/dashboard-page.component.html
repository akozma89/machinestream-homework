<nz-row class="statistic-row">
    <nz-col
        [nzXl]="4"
        [nzMd]="8"
        [nzXs]="24"
        class="color-{{ MachineColorStatusMap.idle }}"
    >
        <nz-statistic
            [routerLink]="['/machines']"
            [nzValue]="((machines$ | async)?.length | number)!"
            [nzTitle]="'Total Machines'"
        ></nz-statistic>
    </nz-col>
    <nz-col
        [nzXl]="4"
        [nzMd]="8"
        [nzXs]="24"
        class="color-{{ MachineColorStatusMap.errored }}"
    >
        <nz-statistic
            [routerLink]="['/machines']"
            [queryParams]="{ statusFilters: 'errored' }"
            [nzValue]="((erroredMachines$ | async)?.length | number)!"
            [nzTitle]="'Errored Machines'"
        ></nz-statistic>
    </nz-col>
    <nz-col
        [nzXl]="4"
        [nzMd]="8"
        [nzXs]="24"
        class="color-{{ MachineColorStatusMap.repaired }}"
    >
        <nz-statistic
            [routerLink]="['/machines']"
            [queryParams]="{ statusFilters: 'repaired' }"
            [nzValue]="((repairedMachines$ | async)?.length | number)!"
            [nzTitle]="'Repaired Machines'"
        ></nz-statistic>
    </nz-col>
    <nz-col
        [nzXl]="4"
        [nzMd]="8"
        [nzXs]="24"
        class="color-{{ MachineColorStatusMap.idle }}"
    >
        <nz-statistic
            [routerLink]="['/machines']"
            [queryParams]="{ statusFilters: 'idle' }"
            [nzValue]="((idleMachines$ | async)?.length | number)!"
            [nzTitle]="'Idle Machines'"
        ></nz-statistic>
    </nz-col>
    <nz-col
        [nzXl]="4"
        [nzMd]="8"
        [nzXs]="24"
        class="color-{{ MachineColorStatusMap.running }}"
    >
        <nz-statistic
            [routerLink]="['/machines']"
            [queryParams]="{ statusFilters: 'running' }"
            [nzValue]="((runningMachines$ | async)?.length | number)!"
            [nzTitle]="'Running Machines'"
        ></nz-statistic>
    </nz-col>
    <nz-col
        [nzXl]="4"
        [nzMd]="8"
        [nzXs]="24"
        class="color-{{ MachineColorStatusMap.finished }}"
    >
        <nz-statistic
            [routerLink]="['/machines']"
            [queryParams]="{ statusFilters: 'finished' }"
            [nzValue]="((finishedMachines$ | async)?.length | number)!"
            [nzTitle]="'Finished Machines'"
        ></nz-statistic>
    </nz-col>
</nz-row>
<nz-row class="hidden-mobile">
    <h2>Machine Status Distribution</h2>
    <ngx-charts-bar-horizontal-stacked
        (select)="selectChartItem($event)"
        [scheme]="stackedMachineStatusDistribution.colorScheme"
        [results]="stackedMachineStatusDistribution.data$ | async"
        [gradient]="stackedMachineStatusDistribution.gradient"
        [xAxis]="stackedMachineStatusDistribution.showXAxis"
        [yAxis]="stackedMachineStatusDistribution.showYAxis"
        [legend]="stackedMachineStatusDistribution.showLegend"
        [showXAxisLabel]="stackedMachineStatusDistribution.showXAxisLabel"
        [showYAxisLabel]="stackedMachineStatusDistribution.showYAxisLabel"
        [xAxisLabel]="stackedMachineStatusDistribution.xAxisLabel"
        [yAxisLabel]="stackedMachineStatusDistribution.yAxisLabel"
    ></ngx-charts-bar-horizontal-stacked>
</nz-row>
<nz-row *ngIf="showMachineTypePieChart" class="hidden-mobile">
    <h2>Machine Type Breakdown</h2>
    <ngx-charts-pie-chart
        [scheme]="pieMachineStatusBreakdown.colorScheme"
        [results]="pieMachineStatusBreakdown.data$ | async"
        [gradient]="pieMachineStatusBreakdown.gradient"
        [legend]="pieMachineStatusBreakdown.showLegend"
        [legendPosition]="pieMachineStatusBreakdown.legendPosition"
        [labels]="pieMachineStatusBreakdown.showLabels"
        [doughnut]="pieMachineStatusBreakdown.isDoughnut"
    ></ngx-charts-pie-chart>
</nz-row>
<br />
